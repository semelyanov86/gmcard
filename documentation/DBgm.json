{
  "id": "0",
  "name": "gm",
  "createdAt": "2025-10-08T14:28:29.177Z",
  "updatedAt": "2025-10-08T14:28:29.177Z",
  "databaseType": "mysql",
  "tables": [
    {
      "id": "1",
      "name": "subscriptions",
      "x": -1355.942221092979,
      "y": 410.08390349542964,
      "fields": [
        {
          "id": "2",
          "name": "id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": true,
          "unique": true,
          "nullable": false,
          "createdAt": 1751375776016
        },
        {
          "id": "3",
          "name": "user_id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751375784676
        },
        {
          "id": "4",
          "name": "type",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751375785242,
          "comments": "Тип акции\n"
        },
        {
          "id": "5",
          "name": "amount",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751375785736,
          "comments": "Стоимость подписки"
        },
        {
          "id": "6",
          "name": "periodicity",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751375820100
        }
      ],
      "indexes": [],
      "color": "#c05dcf",
      "isView": false,
      "createdAt": 1751375776016,
      "comments": "платные подписки пользователей, хранит стоимость и периодичность.",
      "order": 8,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "7",
      "name": "promos",
      "x": -170.5888605214725,
      "y": -1070.849402028598,
      "fields": [
        {
          "id": "8",
          "name": "id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": true,
          "unique": true,
          "nullable": false,
          "createdAt": 1751367949246
        },
        {
          "id": "9",
          "name": "name",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751367966211,
          "characterMaximumLength": "64"
        },
        {
          "id": "10",
          "name": "user_id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751370898935
        },
        {
          "id": "11",
          "name": "type",
          "type": {
            "id": "enum",
            "name": "enum"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751367966976,
          "comments": "simple,coupon,gift,one_plus_one,two_plus_one,cashback,konkurs\n\nтип акции"
        },
        {
          "id": "12",
          "name": "code",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751367967725,
          "comments": "промокод"
        },
        {
          "id": "13",
          "name": "img",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751385302886
        },
        {
          "id": "14",
          "name": "amount",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751367968548,
          "comments": "Обьем скидки"
        },
        {
          "id": "15",
          "name": "description",
          "type": {
            "id": "text",
            "name": "text"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751367969230
        },
        {
          "id": "16",
          "name": "extra_conditions",
          "type": {
            "id": "text",
            "name": "text"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751367969957,
          "comments": "Доп условия"
        },
        {
          "id": "17",
          "name": "video_link",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751368374709,
          "characterMaximumLength": "2083",
          "comments": "Ссылка на видео 2083\n\nВопрос по длине "
        },
        {
          "id": "18",
          "name": "smm_links",
          "type": {
            "id": "json",
            "name": "json"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751368375456,
          "comments": "ссылки на соц сети\n"
        },
        {
          "id": "19",
          "name": "days_availability",
          "type": {
            "id": "json",
            "name": "json"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751368376097,
          "comments": "Список дней когда доступна акция \nТИПИЗАЦИЯ"
        },
        {
          "id": "20",
          "name": "availabe_from",
          "type": {
            "id": "date",
            "name": "date"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751368376853,
          "comments": "Со скольки до скольки доступна акция\nТИПИЗАЦИЯ"
        },
        {
          "id": "21",
          "name": "available_to",
          "type": {
            "id": "time",
            "name": "time"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751368377663,
          "comments": "время когда акция доступна\n"
        },
        {
          "id": "22",
          "name": "started_at",
          "type": {
            "id": "datetime",
            "name": "datetime"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751370899581,
          "comments": "Время запуска "
        },
        {
          "id": "23",
          "name": "available_till",
          "type": {
            "id": "datetime",
            "name": "datetime"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751370900142,
          "comments": "Время завершения акции"
        },
        {
          "id": "24",
          "name": "show_on_home",
          "type": {
            "id": "boolean",
            "name": "boolean"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751370901201,
          "comments": "Показывать ли акцию на главной странице сайта?\n\nDefault:\nfalse"
        },
        {
          "id": "25",
          "name": "raise_on_top_hours",
          "type": {
            "id": "int",
            "name": "int"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751370901780,
          "comments": "Поднимать акцию на первое место каждые 0 дней\n\nDefault:\n0"
        },
        {
          "id": "26",
          "name": "restart_after_finish_days",
          "type": {
            "id": "int",
            "name": "int"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751371173310,
          "comments": "Автоматически перезапускать акцию после завершения на 0 дней\n\nDefault:\n0\n"
        },
        {
          "id": "27",
          "name": "sales_order_from",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751371173905,
          "comments": "Скидка действует при заказе от 0 руб\n\nDefault:\n0"
        },
        {
          "id": "28",
          "name": "free_delivery_from",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751371174477,
          "comments": "Бесплатная доставка от определённой суммы"
        },
        {
          "id": "29",
          "name": "free_delivery",
          "type": {
            "id": "boolean",
            "name": "boolean"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751372552716,
          "comments": "Default:\nfalse"
        },
        {
          "id": "30",
          "name": "approved_at",
          "type": {
            "id": "datetime",
            "name": "datetime"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751371175245,
          "comments": "Когда подтверждено "
        },
        {
          "id": "31",
          "name": "approving_notes",
          "type": {
            "id": "text",
            "name": "text"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751372622474,
          "comments": "Хранит комментарии или примечания модератора"
        },
        {
          "id": "32",
          "name": "crmid",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751372623161,
          "comments": "Связь с CRM"
        },
        {
          "id": "33",
          "name": "adv_campaign_id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751372623864,
          "comments": "Рекламная компания\n"
        },
        {
          "id": "34",
          "name": "organisation_id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751372624708,
          "comments": "связь с организацией"
        },
        {
          "id": "35",
          "name": "dicsount",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751372904206,
          "comments": "Размер вознаграждения"
        }
      ],
      "indexes": [
        {
          "id": "36",
          "name": "index_1",
          "unique": false,
          "fieldIds": [],
          "createdAt": 1751371559725
        }
      ],
      "color": "#4dee8a",
      "isView": false,
      "createdAt": 1751367949246,
      "comments": "акции, скидки, промокоды. Основная таблица предложений.",
      "order": 1,
      "expanded": true,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "37",
      "name": "cities",
      "x": -1421.8815472495082,
      "y": -410.08384340624445,
      "fields": [
        {
          "id": "38",
          "name": "id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": true,
          "unique": true,
          "nullable": false,
          "createdAt": 1751378462826
        },
        {
          "id": "39",
          "name": "name",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751378512138
        },
        {
          "id": "40",
          "name": "country",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751378524573,
          "comments": "Default:\nru"
        }
      ],
      "indexes": [],
      "color": "#7175fa",
      "isView": false,
      "createdAt": 1751378462826,
      "comments": "список городов, где доступны сервисы или акции. Используется для фильтрации и привязки промо.",
      "order": 11,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "41",
      "name": "users",
      "schema": "public",
      "x": -574.7376649072852,
      "y": -1157.010289102479,
      "fields": [
        {
          "id": "42",
          "name": "id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": true,
          "unique": false,
          "nullable": true,
          "createdAt": 1751356579813
        },
        {
          "id": "43",
          "name": "name",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751356579813
        },
        {
          "id": "44",
          "name": "last_name",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751365061057
        },
        {
          "id": "45",
          "name": "age",
          "type": {
            "id": "tinyint",
            "name": "tinyint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751382385147,
          "comments": "default 0???\n"
        },
        {
          "id": "46",
          "name": "email",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751356579813
        },
        {
          "id": "47",
          "name": "password",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751367389343,
          "comments": "?"
        },
        {
          "id": "48",
          "name": "balance",
          "type": {
            "id": "decimal",
            "name": "decimal"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751382278589,
          "comments": "10, 2\nDefault 0"
        },
        {
          "id": "49",
          "name": "job",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751364935420
        },
        {
          "id": "50",
          "name": "job_status",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751382861378,
          "characterMaximumLength": "100"
        },
        {
          "id": "51",
          "name": "city",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751365687289
        },
        {
          "id": "52",
          "name": "country",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751366037542
        },
        {
          "id": "53",
          "name": " birth_date",
          "type": {
            "id": "date",
            "name": "date"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751366054574
        },
        {
          "id": "54",
          "name": "role",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751366059840
        },
        {
          "id": "55",
          "name": "gender",
          "type": {
            "id": "enum",
            "name": "enum"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751366089699,
          "comments": "Добавить атрибуты \n"
        },
        {
          "id": "56",
          "name": "code",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751366108679,
          "comments": "Промокод для начисления бонусов\nРАЗОБРАТЬСЯ!!\n"
        },
        {
          "id": "57",
          "name": "created_at",
          "type": {
            "id": "timestamp",
            "name": "timestamp"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751366262609,
          "comments": "?"
        },
        {
          "id": "58",
          "name": "updated_at",
          "type": {
            "id": "timestamp",
            "name": "timestamp"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751366299271,
          "comments": "?"
        },
        {
          "id": "59",
          "name": "tariff_plan_id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "unique": false,
          "nullable": true,
          "primaryKey": false,
          "createdAt": 1759933618855
        }
      ],
      "indexes": [
        {
          "id": "60",
          "name": "index_1",
          "unique": false,
          "fieldIds": [],
          "createdAt": 1751367816974
        }
      ],
      "color": "#8eb7ff",
      "isView": false,
      "createdAt": 1751356579813,
      "order": 0,
      "expanded": true,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "61",
      "name": "city_promo",
      "x": -610.6229514984977,
      "y": -362.365922950072,
      "fields": [
        {
          "id": "62",
          "name": "id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": true,
          "unique": true,
          "nullable": false,
          "createdAt": 1751373977035
        },
        {
          "id": "63",
          "name": "city_id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751374101416
        },
        {
          "id": "64",
          "name": "promo_id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751374102169
        }
      ],
      "indexes": [],
      "color": "#ff9f74",
      "isView": false,
      "createdAt": 1751373977035,
      "comments": "связь «город -- акция»",
      "order": 3,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "65",
      "name": "categories",
      "x": 1026.003840665585,
      "y": -724.9178077395732,
      "fields": [
        {
          "id": "66",
          "name": "id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": true,
          "unique": true,
          "nullable": false,
          "createdAt": 1751373977218
        },
        {
          "id": "67",
          "name": "name",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751374167526
        },
        {
          "id": "68",
          "name": "description",
          "type": {
            "id": "text",
            "name": "text"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751374168153
        },
        {
          "id": "69",
          "name": "parent_id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751374168746
        },
        {
          "id": "70",
          "name": "is_starred",
          "type": {
            "id": "boolean",
            "name": "boolean"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751374169423,
          "comments": "Default:\nfalse"
        }
      ],
      "indexes": [],
      "color": "#7175fa",
      "isView": false,
      "createdAt": 1751373977218,
      "comments": "категории акций или товаров для группировки предложений",
      "order": 4,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "71",
      "name": "addresses",
      "x": -168.31032608938546,
      "y": 90.43936050680414,
      "fields": [
        {
          "id": "72",
          "name": "id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": true,
          "unique": true,
          "nullable": false,
          "createdAt": 1751374392478
        },
        {
          "id": "73",
          "name": "name",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751374409917,
          "comments": "Название организации"
        },
        {
          "id": "74",
          "name": "open_hours",
          "type": {
            "id": "text",
            "name": "text"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751374410657,
          "comments": "Время работы"
        },
        {
          "id": "75",
          "name": "phone",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751374411174,
          "comments": "Номер телефона"
        },
        {
          "id": "76",
          "name": "phone_secondary",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751374411758,
          "comments": "Запасной номер телефона"
        },
        {
          "id": "77",
          "name": "website",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751374486213,
          "comments": "Сайт организации"
        }
      ],
      "indexes": [],
      "color": "#ffe374",
      "isView": false,
      "createdAt": 1751374392478,
      "comments": "физические адреса организаций. Могут быть связаны с промо.",
      "order": 5,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "78",
      "name": "adv_campaigns",
      "x": -1481.5737952178513,
      "y": -1193.5431051901983,
      "fields": [
        {
          "id": "79",
          "name": "id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": true,
          "unique": true,
          "nullable": false,
          "createdAt": 1751378684195
        },
        {
          "id": "80",
          "name": "name",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751378701604
        },
        {
          "id": "81",
          "name": "description",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751378702238
        },
        {
          "id": "82",
          "name": "crmid",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751378702744
        },
        {
          "id": "83",
          "name": "action_details",
          "type": {
            "id": "json",
            "name": "json"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751378703295,
          "comments": "Здесь размер вознаграждения"
        },
        {
          "id": "84",
          "name": "deeplink",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751378703848
        },
        {
          "id": "85",
          "name": "avg_hold_time",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751378788736,
          "comments": "среднее время, которое действие находится в ожидании"
        },
        {
          "id": "86",
          "name": "avg_money_transfer_time",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751378789364,
          "comments": "среднее время оплаты действий рекламодателем."
        }
      ],
      "indexes": [],
      "color": "#7175fa",
      "isView": false,
      "createdAt": 1751378684195,
      "comments": "рекламные кампании для промо",
      "order": 13,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "87",
      "name": "promo_usages",
      "x": 527.3526358527024,
      "y": -1599.364461431277,
      "fields": [
        {
          "id": "88",
          "name": "id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": true,
          "unique": true,
          "nullable": false,
          "createdAt": 1751375142359
        },
        {
          "id": "89",
          "name": "promo_id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751375608155,
          "comments": "Какая акция была использована"
        },
        {
          "id": "90",
          "name": "used_at",
          "type": {
            "id": "timestamp",
            "name": "timestamp"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751375608705,
          "comments": "Когда была использована"
        },
        {
          "id": "91",
          "name": "user_id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751375609235,
          "comments": "\tКто использовал"
        },
        {
          "id": "92",
          "name": "ip",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751375609803,
          "comments": "не понял для чего ip\n"
        }
      ],
      "indexes": [],
      "color": "#ff6b8a",
      "isView": false,
      "createdAt": 1751375142359,
      "width": 224,
      "comments": "история использования промо",
      "order": 7,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "93",
      "name": "address_promo",
      "x": 563.5403688781382,
      "y": -298.5007182237264,
      "fields": [
        {
          "id": "94",
          "name": "id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": true,
          "unique": true,
          "nullable": false,
          "createdAt": 1751375104297
        },
        {
          "id": "95",
          "name": "address_id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751375122914,
          "comments": "Где действцет акция"
        },
        {
          "id": "96",
          "name": "promo_id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751375123814,
          "comments": "Сама акция"
        }
      ],
      "indexes": [],
      "color": "#c05dcf",
      "isView": false,
      "createdAt": 1751375104297,
      "comments": "связь «адрес -- акция».",
      "order": 6,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "97",
      "name": "category_promo",
      "x": 487.52315249491033,
      "y": 96.83610671663168,
      "fields": [
        {
          "id": "98",
          "name": "id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": true,
          "unique": true,
          "nullable": false,
          "createdAt": 1751373977389
        },
        {
          "id": "99",
          "name": "category_id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751374288389,
          "comments": "Для каких категорий акция"
        },
        {
          "id": "100",
          "name": "promo_id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751374288900,
          "comments": "Сама акция"
        }
      ],
      "indexes": [],
      "color": "#8eb7ff",
      "isView": false,
      "createdAt": 1751373977389,
      "comments": "связь «категория -- акция»",
      "order": 5,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "101",
      "name": "organisations",
      "x": -1420.2213659964825,
      "y": -89.49121836844702,
      "fields": [
        {
          "id": "102",
          "name": "id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": true,
          "unique": true,
          "nullable": false,
          "createdAt": 1751378899095
        },
        {
          "id": "103",
          "name": "address_id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751378905824,
          "comments": "Адрес организации"
        },
        {
          "id": "104",
          "name": "name",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751378907125,
          "comments": "Название организации"
        },
        {
          "id": "105",
          "name": "owner_role",
          "type": {
            "id": "enum",
            "name": "enum"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751378907683,
          "comments": "Enum values:\nowner,manager,secretary,other"
        },
        {
          "id": "106",
          "name": "inn",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751378908437,
          "characterMaximumLength": "15",
          "comments": ""
        },
        {
          "id": "107",
          "name": "ogrn",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751378909889,
          "characterMaximumLength": "20"
        },
        {
          "id": "108",
          "name": "contact",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751378910418,
          "comments": "контактный данные"
        },
        {
          "id": "109",
          "name": "contact_fio",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751378910980,
          "comments": "Фио"
        },
        {
          "id": "110",
          "name": "opening_hours",
          "type": {
            "id": "json",
            "name": "json"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751379055951,
          "comments": "Расписание работы "
        },
        {
          "id": "111",
          "name": "user_id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751379056659
        }
      ],
      "indexes": [],
      "color": "#ff9f74",
      "isView": false,
      "createdAt": 1751378899095,
      "comments": "юридические лица-организации, которые создают акции или размещают услуги.",
      "order": 14,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "112",
      "name": "payments",
      "x": -1189.5435111823863,
      "y": 1045.8308255100358,
      "fields": [
        {
          "id": "113",
          "name": "id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": true,
          "unique": true,
          "nullable": false,
          "createdAt": 1751378321171
        },
        {
          "id": "114",
          "name": "payment_date",
          "type": {
            "id": "datetime",
            "name": "datetime"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751378327149,
          "comments": "Дата оплаты"
        },
        {
          "id": "115",
          "name": "amount",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751378327909,
          "comments": "\tСумма"
        },
        {
          "id": "116",
          "name": "type",
          "type": {
            "id": "enum",
            "name": "enum"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751378328408,
          "comments": "Enum values:\nincoming,outgoing"
        },
        {
          "id": "117",
          "name": "currency",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751378328917,
          "comments": "\tВалюта"
        },
        {
          "id": "118",
          "name": "description",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751378329438
        },
        {
          "id": "119",
          "name": "transaction_id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751378329928,
          "comments": "\tID транзакции"
        },
        {
          "id": "120",
          "name": "user_id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": false,
          "createdAt": 1751378330461
        }
      ],
      "indexes": [],
      "color": "#ffe374",
      "isView": false,
      "createdAt": 1751378321171,
      "comments": "история платежей ",
      "order": 10,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "121",
      "name": "bonuses",
      "x": -1292.6860618330559,
      "y": 684.2873694504074,
      "fields": [
        {
          "id": "122",
          "name": "id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": true,
          "unique": true,
          "nullable": false,
          "createdAt": 1751376531111
        },
        {
          "id": "123",
          "name": "amount",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751376557965,
          "comments": "Сумма бонуса"
        },
        {
          "id": "124",
          "name": "code",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751376558624,
          "comments": "\tПромокод"
        },
        {
          "id": "125",
          "name": "source_id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751376559284,
          "comments": "Кто отправил (user_id)"
        },
        {
          "id": "126",
          "name": "target_id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751376559840,
          "comments": "Кто получил (user_id)"
        },
        {
          "id": "127",
          "name": "type",
          "type": {
            "id": "enum",
            "name": "enum"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751376560412,
          "comments": "Enum values:\nincoming,outgoing"
        }
      ],
      "indexes": [],
      "color": "#4dee8a",
      "isView": false,
      "createdAt": 1751376531111,
      "width": 224,
      "comments": "начисления и списания бонусов",
      "order": 9,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "128",
      "name": "media",
      "x": -1414.5673196471344,
      "y": -683.6777813086306,
      "fields": [
        {
          "id": "129",
          "name": "id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "primaryKey": true,
          "unique": true,
          "nullable": false,
          "createdAt": 1751378650480
        },
        {
          "id": "130",
          "name": "type",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "primaryKey": false,
          "unique": false,
          "nullable": true,
          "createdAt": 1751378663259
        }
      ],
      "indexes": [],
      "color": "#9ef07a",
      "isView": false,
      "createdAt": 1751378650480,
      "comments": " медиафайлы изображения, видео",
      "order": 12,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "131",
      "name": "tariffPlan",
      "x": -314.7216182814249,
      "y": 579.4923797891712,
      "fields": [
        {
          "id": "132",
          "name": "id",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "unique": true,
          "nullable": false,
          "primaryKey": true,
          "createdAt": 1759933100560
        },
        {
          "id": "133",
          "name": "slug\t",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "unique": false,
          "nullable": false,
          "primaryKey": false,
          "createdAt": 1759933254687
        },
        {
          "id": "134",
          "name": "name",
          "type": {
            "id": "varchar",
            "name": "varchar"
          },
          "unique": false,
          "nullable": false,
          "primaryKey": false,
          "createdAt": 1759933315332,
          "comments": "Название тарифного плана\n"
        },
        {
          "id": "135",
          "name": "description",
          "type": {
            "id": "text",
            "name": "text"
          },
          "unique": false,
          "nullable": true,
          "primaryKey": false,
          "createdAt": 1759933365983,
          "comments": "Описание тарифного плана\n"
        },
        {
          "id": "136",
          "name": "price",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "unique": false,
          "nullable": false,
          "primaryKey": false,
          "createdAt": 1759933394146,
          "comments": "Стоимость тарифа (хранится в копейках, отображается как деньги)"
        },
        {
          "id": "137",
          "name": "ads_count\t",
          "type": {
            "id": "int",
            "name": "int"
          },
          "unique": false,
          "nullable": false,
          "primaryKey": false,
          "createdAt": 1759933432580,
          "comments": "Количество акций, которое может создать пользователь на этом тарифе (бесплатно)"
        },
        {
          "id": "138",
          "name": "banner_price\t",
          "type": {
            "id": "bigint",
            "name": "bigint"
          },
          "unique": false,
          "nullable": true,
          "primaryKey": false,
          "createdAt": 1759933466625,
          "comments": "Стоимость баннера для этого тарифа"
        },
        {
          "id": "139",
          "name": "created_at\t",
          "type": {
            "id": "timestamp",
            "name": "timestamp"
          },
          "unique": false,
          "nullable": true,
          "primaryKey": false,
          "createdAt": 1759933560449
        },
        {
          "id": "140",
          "name": "updated_at\t",
          "type": {
            "id": "timestamp",
            "name": "timestamp"
          },
          "unique": false,
          "nullable": true,
          "primaryKey": false,
          "createdAt": 1759933590732
        }
      ],
      "indexes": [],
      "color": "#b067e9",
      "createdAt": 1759933100560,
      "isView": false,
      "order": 15
    }
  ],
  "relationships": [
    {
      "id": "141",
      "name": "adv_campaigns_id_fk",
      "sourceTableId": "78",
      "targetTableId": "7",
      "sourceFieldId": "79",
      "targetFieldId": "33",
      "sourceCardinality": "one",
      "targetCardinality": "one",
      "createdAt": 1751386673469,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "142",
      "name": "bonuses_source_id_fk",
      "sourceTableId": "121",
      "targetTableId": "41",
      "sourceFieldId": "125",
      "targetFieldId": "42",
      "sourceCardinality": "one",
      "targetCardinality": "one",
      "createdAt": 1751387061537,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "143",
      "name": "bonuses_target_id_fk",
      "sourceTableId": "121",
      "targetTableId": "41",
      "sourceFieldId": "126",
      "targetFieldId": "42",
      "sourceCardinality": "one",
      "targetCardinality": "one",
      "createdAt": 1751387068554,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "144",
      "name": "categories_id_fk",
      "sourceTableId": "65",
      "targetTableId": "97",
      "sourceFieldId": "66",
      "targetFieldId": "99",
      "sourceCardinality": "one",
      "targetCardinality": "one",
      "createdAt": 1751388039759,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "145",
      "name": "category_promo_id_fk",
      "sourceTableId": "97",
      "targetTableId": "93",
      "sourceFieldId": "98",
      "targetFieldId": "94",
      "sourceCardinality": "one",
      "targetCardinality": "one",
      "createdAt": 1751387420221,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "146",
      "name": "cities_id_fk",
      "sourceTableId": "37",
      "targetTableId": "61",
      "sourceFieldId": "38",
      "targetFieldId": "63",
      "sourceCardinality": "one",
      "targetCardinality": "one",
      "createdAt": 1751386808250,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "147",
      "name": "city_promo_promo_id_fk",
      "sourceTableId": "61",
      "targetTableId": "7",
      "sourceFieldId": "64",
      "targetFieldId": "8",
      "sourceCardinality": "one",
      "targetCardinality": "one",
      "createdAt": 1751386839389,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "148",
      "name": "media_type_fk",
      "sourceTableId": "128",
      "targetTableId": "7",
      "sourceFieldId": "130",
      "targetFieldId": "9",
      "sourceCardinality": "one",
      "targetCardinality": "one",
      "createdAt": 1751386749678,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "149",
      "name": "organisations_address_id_fk",
      "sourceTableId": "101",
      "targetTableId": "71",
      "sourceFieldId": "103",
      "targetFieldId": "72",
      "sourceCardinality": "one",
      "targetCardinality": "one",
      "createdAt": 1751386929354,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "150",
      "name": "organisations_id_fk",
      "sourceTableId": "101",
      "targetTableId": "7",
      "sourceFieldId": "102",
      "targetFieldId": "34",
      "sourceCardinality": "one",
      "targetCardinality": "one",
      "createdAt": 1751386882650,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "151",
      "name": "organisations_user_id_fk",
      "sourceTableId": "101",
      "targetTableId": "41",
      "sourceFieldId": "111",
      "targetFieldId": "42",
      "sourceCardinality": "one",
      "targetCardinality": "one",
      "createdAt": 1751386949225,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "152",
      "name": "payments_id_fk",
      "sourceTableId": "112",
      "targetTableId": "41",
      "sourceFieldId": "113",
      "targetFieldId": "42",
      "sourceCardinality": "one",
      "targetCardinality": "one",
      "createdAt": 1751387095353,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "153",
      "name": "promos_id_fk",
      "sourceTableId": "7",
      "targetTableId": "93",
      "sourceFieldId": "8",
      "targetFieldId": "96",
      "sourceCardinality": "one",
      "targetCardinality": "one",
      "createdAt": 1751387169324,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "154",
      "name": "promos_id_fk",
      "sourceTableId": "7",
      "targetTableId": "97",
      "sourceFieldId": "8",
      "targetFieldId": "100",
      "sourceCardinality": "one",
      "targetCardinality": "one",
      "createdAt": 1751387357699,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "155",
      "name": "promos_id_fk",
      "sourceTableId": "7",
      "targetTableId": "87",
      "sourceFieldId": "8",
      "targetFieldId": "89",
      "sourceCardinality": "one",
      "targetCardinality": "one",
      "createdAt": 1751387272795,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "156",
      "name": "subscriptions_user_id_fk",
      "sourceTableId": "1",
      "targetTableId": "41",
      "sourceFieldId": "3",
      "targetFieldId": "42",
      "sourceCardinality": "one",
      "targetCardinality": "one",
      "createdAt": 1751386994485,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "157",
      "name": "users_id_fk",
      "sourceSchema": "public",
      "sourceTableId": "41",
      "targetSchema": "public",
      "targetTableId": "7",
      "sourceFieldId": "42",
      "targetFieldId": "10",
      "sourceCardinality": "one",
      "targetCardinality": "one",
      "createdAt": 1751387135737,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "158",
      "name": "users_id_fk",
      "sourceSchema": "public",
      "sourceTableId": "41",
      "targetSchema": "public",
      "targetTableId": "87",
      "sourceFieldId": "42",
      "targetFieldId": "91",
      "sourceCardinality": "one",
      "targetCardinality": "one",
      "createdAt": 1751387251205,
      "diagramId": "kgfog9rwy0p9"
    },
    {
      "id": "159",
      "name": "users_tariff_plan_id_fk",
      "sourceSchema": "public",
      "sourceTableId": "41",
      "targetSchema": "public",
      "targetTableId": "131",
      "sourceFieldId": "59",
      "targetFieldId": "132",
      "sourceCardinality": "one",
      "targetCardinality": "one",
      "createdAt": 1759933678365
    }
  ],
  "dependencies": [],
  "areas": []
}